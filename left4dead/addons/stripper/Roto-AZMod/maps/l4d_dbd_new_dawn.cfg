; Harry Modify 2021

; =====================================================
; ==               DEAD BEFORE DAWN               	 ==
; ==               MAP 5 - NEW DAWN              	 ==
; =====================================================

;from github.com/Derpduck/L4D2-Comp-Stripper-Rework/blob/master/cfg/stripper/maps/l4d_dbd2dc_new_dawn.cfg
; ############  DIRECTOR AND EVENT CHANGES  ###########
; =====================================================
; ==          DIRECTOR & EVENT MODIFICATION          ==
; ==       Modify director behaviour and events      ==
; =====================================================
; --- Remove scripted common / special infected spawns
; no these entities in l4d1
;filter:
;{
;	"classname" "info_zombie_spawn"
;}
;{
;	"classname" "commentary_zombie_spawner"
;}
; --- Prevent tank spawns from being randomly disabled
;filter:
;{
;	"targetname" "finale_tank_trigger_alternator"
;}
;{
;	"targetname" "finale_tank_trigger_alternator_versus"
;}
; --- Remove the first tank spawn
;filter:
;{
;	"targetname" "advancementtrigger_1"
;}
; --- Teleport the tank to a better location (in ceiling above the parking garage exit) when it spawns - credit: ProMod
;modify:
;{
;	match:
;	{
;		"targetname" "advancementtrigger_2"
;	}
;	insert:
;	{
;		"OnTrigger" "tank_spawned_timer,Enable,,0,-1"
;	}
;}
;add:
;{
;	"classname" "logic_timer"
;	"targetname" "tank_spawned_timer"
;	"StartDisabled" "1"
;	"RefireTime" "1"
;	"spawnflags" "0"
;	"OnTimer" "director,BeginScript,l4d_dbd2dc_new_dawn_tank_helper_promod,0,-1"
;}
; --- Remove the tank spawns on the roof
;filter:
;{
;	"targetname" "case_roof_escape_tank"
;}
;{
;	"targetname" "case_roof_escape_tank_versus"
;}
;{
;	"targetname" "roof_escape_tank_alternator_a"
;}
;{
;	"targetname" "roof_escape_tank_alternator_b"
;}

; ################  ITEM SPAWN CHANGES  ###############
; =====================================================
; ==           PILL / ITEM / WEAPON SPAWNS           ==
; ==   Remove or change pill, item & weapon spawns   ==
; =====================================================
; --- Make guns in the 2nd floor office always spawn
modify:
{
	match:
	{
		"hammerid" "1363261"
	}
	replace:
	{
		"spawnflags" "18"
	}
	insert:
	{
		"spawnflags" "18"
	}
}
{
	match:
	{
		"hammerid" "1363265"
	}
	replace:
	{
		"spawnflags" "18"
	}
	insert:
	{
		"spawnflags" "18"
	}
}
{
	match:
	{
		"hammerid" "1363267"
	}
	replace:
	{
		"spawnflags" "18"
	}
	insert:
	{
		"spawnflags" "18"
	}
}


; =====================================================
; ==                STATIC AMMO PILES                ==
; ==          Add or modify ammo pile spawns         ==
; =====================================================
add:
; --- Ammo pile by the finale start button
{
	"classname" "weapon_ammo_spawn"
	"origin" "-473 -293 -1280"
	"angles" "0 90 0"
	"model" "models/props/terror/ammo_stack.mdl"
	"solid" "6"
	"disableshadows" "1"
	"spawnflags" "2"
}

; =====================================================
; ==                 HITTABLE CHANGES                ==
; ==           Add/remove/modify hittables           ==
; =====================================================
; --- Remove a car that spawns stuck in the ground and can kill players
filter:
{
	"hammerid" "887646"
}
{
	"hammerid" "887650"
}

; #############  MAP CLIPPING AND ISSUES  #############
; =====================================================
; ==                 EXPLOITS BLOCKED                ==
; ==      Block intentionally performed exploits     ==
; =====================================================
add:
; --- Block jumping on the shelves to skip sections of the store
{
	"classname" "env_player_blocker"
	"origin" "-2252 1817 -1217"
	"mins" "-1 -153 -63"
	"maxs" "1 153 63"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_player_blocker"
	"origin" "-2548 1312 -1217"
	"mins" "-1 -374 -63"
	"maxs" "1 374 63"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_player_blocker"
	"origin" "-2561 1304 -1217"
	"mins" "-25 -19 -63"
	"maxs" "25 19 63"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block jumping on a fence / news van at the store exit
; can't use angles blocker in l4d1
; replace by new barricades below
;{
;	"classname" "env_player_blocker"
;	"origin" "-582 1285 -1126"
;	"angles" "0 -26.5 0"
;	"mins" "-5 -126 -154"
;	"maxs" "5 126 154"
;	"boxmins" "-5 -126 -154"
;	"boxmaxs" "5 126 154"
;	"initialstate" "1"
;	"BlockType" "1"
;}
;{
;	"classname" "env_player_blocker"
;	"origin" "-639 1054 -1126"
;	"angles" "0 18 0"
;	"mins" "-48 -117 -154"
;	"maxs" "48 117 154"
;	"boxmins" "-48 -117 -154"
;	"boxmaxs" "48 117 154"
;	"initialstate" "1"
;	"BlockType" "1"
;}
; --- Block jumping on burning trash to get over fence before the finale start
{
	"classname" "env_player_blocker"
	"origin" "373 805 -1217"
	;"angles" "0 20 0"
	"mins" "-38 -28 -64"
	"maxs" "38 28 64"
	;"boxmins" "-38 -28 -64"
	;"boxmaxs" "38 28 64"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block jumping on the office before the finale start
{
	"classname" "env_player_blocker"
	"origin" "-313 816 -1122"
	"mins" "-20 -40 -150"
	"maxs" "20 40 150"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_player_blocker"
	"origin" "-382 566 -1046"
	"mins" "-168 -210 -74"
	"maxs" "168 210 74"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block jumping over barricades after the first ramp
{
	"classname" "env_player_blocker"
	"origin" "98 15 -916"
	"mins" "-2 -33 -44"
	"maxs" "2 33 44"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_player_blocker"
	"origin" "109 250 -871"
	;"angles" "0 149 0"
	"mins" "-20 -114 -84"
	"maxs" "10 114 84"
	;"boxmins" "-44 -114 -84"
	;"boxmaxs" "44 114 84"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_player_blocker"
	"origin" "-292 382 -920"
	"mins" "-124 -15 -51"
	"maxs" "124 15 51"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_player_blocker"
	"origin" "-706 430 -825"
	"mins" "-50 -2 -38"
	"maxs" "50 2 38"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_player_blocker"
	"origin" "-654 417 -825"
	"mins" "-2 -15 -38"
	"maxs" "2 15 38"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block jumping into the broken ceiling near the end of the parking garage
{
	"classname" "env_player_blocker"
	"origin" "-239 1215 -386"
	"mins" "-24 -119 -82"
	"maxs" "24 119 82"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block survivors from jumping onto floor above the elevator
{
	"classname" "env_player_blocker"
	"origin" "-705.5 2390 89"
	"mins" "-1.5 -137 -246"
	"maxs" "1.5 137 246"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_player_blocker"
	"origin" "-517 2580 85"
	"mins" "-293 -53 -250"
	"maxs" "293 53 250"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_player_blocker"
	"origin" "-278 2390 85"
	"mins" "-53 -137 -250"
	"maxs" "53 137 250"
	"initialstate" "1"
	"BlockType" "1"
}

; =====================================================
; ==                  OUT OF BOUNDS                  ==
; ==  Block players getting outside / under the map  ==
; =====================================================
; --- Block survivors from going out of bounds through holes in the ceiling
add:
{
	"classname" "env_player_blocker"
	"origin" "-306 448 -779"
	"mins" "-744 -840 -8"
	"maxs" "744 840 8"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_player_blocker"
	"origin" "135 1757 -779"
	"mins" "-303 -469 -8"
	"maxs" "303 469 8"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_player_blocker"
	"origin" "-306 914 -455"
	"mins" "-744 -1311 -8"
	"maxs" "744 1311 8"
	"initialstate" "1"
	"BlockType" "1"
}

; =====================================================
; ==                   STUCK SPOTS                   ==
; ==  Prevent players from getting stuck in the map  ==
; =====================================================

; =====================================================
; ==                 NUISANCE CHANGES                ==
; ==      Clipping improvements, QOL map changes     ==
; =====================================================
; --- Remove annoying physics props
filter:
{
	"model" "models/3dsteve/shopping_cart_alpha.mdl"
}
{
	"model" "models/3dsteve/shopping_cart.mdl"
}
; --- Change color of alarmed ATMs to make it obvious which ones are alarmed, hide sprites when alarm is done, make sound end sooner
modify:
{
	match:
	{
		"classname" "prop_car_alarm"
	}
	delete:
	{
		"OnCarAlarmStart" "auto_alarm_s1,StopSound,,25,-1"
	}
	replace:
	{
		"rendercolor" "225 113 33"
	}
	insert:
	{
		"OnCarAlarmStart" "auto_alarm_b1,HideSprite,,15,-1"
		"OnCarAlarmStart" "auto_alarm_s1,StopSound,,15,-1"
	}
}
; --- Remove "fake" alarm car glass on blue car
{
	match:
	{
		;"origin" "67.3273 492.074 -954.63"
		"hammerid" "804942"
	}
	replace:
	{
		"model" "models/props_vehicles/cara_95sedan_glass.mdl"
	}
}
; --- Replace open van props with correct models and glass
filter:
{
	"model" "models/props_vehicles/van_interior.mdl"
}
add:
{
	"classname" "prop_dynamic"
	"origin" "424.932 1088.04 -1279.24"
	"angles" "0 268.5 0"
	"model" "models/props_vehicles/van.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "424.932 1088.04 -1279.24"
	"angles" "0 268.5 0"
	"model" "models/props_vehicles/van_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "-1070.4 483 -1279.24"
	"angles" "0 91 0"
	"model" "models/props_vehicles/van.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "-1070.4 483 -1279.24"
	"angles" "0 91 0"
	"model" "models/props_vehicles/van_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "388 710 -1279.24"
	"angles" "0 291 0"
	"model" "models/props_vehicles/van.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "388 710 -1279.24"
	"angles" "0 291 0"
	"model" "models/props_vehicles/van_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "-80 106 -1279.24"
	"angles" "0 333.5 0"
	"model" "models/props_vehicles/van.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "-80 106 -1279.24"
	"angles" "0 333.5 0"
	"model" "models/props_vehicles/van_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "-37.7524 -996.121 -1116.24"
	"angles" "0 290 0"
	"model" "models/props_vehicles/van.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "-37.7524 -996.121 -1116.24"
	"angles" "0 290 0"
	"model" "models/props_vehicles/van_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "108 249 -955.237"
	"angles" "0 329 0"
	"model" "models/props_vehicles/van.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "108 249 -955.237"
	"angles" "0 329 0"
	"model" "models/props_vehicles/van_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "219 1394 -955.237"
	"angles" "0 26.5 0"
	"model" "models/props_vehicles/van.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "219 1394 -955.237"
	"angles" "0 26.5 0"
	"model" "models/props_vehicles/van_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "-704 1341 -955.237"
	"angles" "0 359 0"
	"model" "models/props_vehicles/van.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "-704 1341 -955.237"
	"angles" "0 359 0"
	"model" "models/props_vehicles/van_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "-1455.52 965.442 -288.66"
	"angles" "0 201 0"
	"model" "models/props_vehicles/van.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "-1455.52 965.442 -288.66"
	"angles" "0 201 0"
	"model" "models/props_vehicles/van_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; --- Add missing glass to vehicles
add:
{
	"classname" "prop_dynamic"
	"origin" "-175.563 2178.54 -957.223"
	"angles" "0 179 0"
	"model" "models/props_vehicles/cara_95sedan_wrecked_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "-122.832 1253.35 -626.992"
	"angles" "0 179 0"
	"model" "models/props_vehicles/cara_95sedan_wrecked_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "-994 1679 -626.992"
	"angles" "0 315 0"
	"model" "models/props_vehicles/cara_95sedan_wrecked_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; no this car in l4d1
;{
;	"classname" "prop_dynamic"
;	"origin" "-1268 1547 -211"
;	"angles" "0 30 180"
;	"model" "models/props_vehicles/police_car_city_glass.mdl"
;	"solid" "6"
;	"disableshadows" "1"
;	"parentname" "policecar_rooftop"
;}
;modify:
;{
;	match:
;	{
;		"hammerid" "1616851"
;	}
;	insert:
;	{
;		"targetname" "policecar_rooftop"
;	}
;}
; --- Replace non-moving physics prop car with static
filter:
{
	"targetname" "truck_falling2"
}
add:
{
	"classname" "prop_dynamic"
	"origin" "-278 857 -1171"
	"angles" "58.71 118.148 -162.321"
	"model" "models/props_vehicles/cara_95sedan_wrecked.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendercolor" "0 64 128"
}
{
	"classname" "prop_dynamic"
	"origin" "-278 857 -1171"
	"angles" "58.71 118.148 -162.321"
	"model" "models/props_vehicles/cara_95sedan_wrecked_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "-218 334 -912"
	"angles" "1.79752 10.4862 -93.877"
	"model" "models/props_vehicles/cara_95sedan_wrecked.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendercolor" "0 64 128"
}
{
	"classname" "prop_dynamic"
	"origin" "-218 334 -912"
	"angles" "1.79752 10.4862 -93.877"
	"model" "models/props_vehicles/cara_95sedan_wrecked_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "-371 -371 -590"
	"angles" "0.669642 185.733 -82.4296"
	"model" "models/props_vehicles/cara_95sedan_wrecked.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendercolor" "0 64 128"
}
{
	"classname" "prop_dynamic"
	"origin" "-371 -371 -590"
	"angles" "0.669642 185.733 -82.4296"
	"model" "models/props_vehicles/cara_95sedan_wrecked_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "-269.524 1852 -914"
	"angles" "1.79752 175.986 -93.877"
	"model" "models/props_vehicles/cara_95sedan_wrecked.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendercolor" "0 64 128"
}
{
	"classname" "prop_dynamic"
	"origin" "-269.524 1852 -914"
	"angles" "1.79752 175.986 -93.877"
	"model" "models/props_vehicles/cara_95sedan_wrecked_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "-738.468 2034.82 -590"
	"angles" "1.79752 99.486 -93.877"
	"model" "models/props_vehicles/cara_95sedan_wrecked.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendercolor" "0 64 128"
}
{
	"classname" "prop_dynamic"
	"origin" "-738.468 2034.82 -590"
	"angles" "1.79752 99.486 -93.877"
	"model" "models/props_vehicles/cara_95sedan_wrecked_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "-592 1892 -243.635"
	"angles" "1.79752 170.986 -93.877"
	"model" "models/props_vehicles/cara_95sedan_wrecked.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendercolor" "0 64 128"
}
{
	"classname" "prop_dynamic"
	"origin" "-592 1892 -243.635"
	"angles" "1.79752 170.986 -93.877"
	"model" "models/props_vehicles/cara_95sedan_wrecked_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "-371 -323 -247"
	"angles" "0.268772 185.766 -78.4496"
	"model" "models/props_vehicles/cara_95sedan_wrecked.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendercolor" "0 64 128"
}
{
	"classname" "prop_dynamic"
	"origin" "-371 -323 -247"
	"angles" "0.268772 185.766 -78.4496"
	"model" "models/props_vehicles/cara_95sedan_wrecked_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; --- Fix non-solid static props throughout the map
add:
{
	"classname" "prop_dynamic"
	"origin" "379.531 -113.624 -953.703"
	"angles" "0 266 0"
	"model" "models/props_vehicles/utility_truck_windows.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-843.083 1642.23 -953.703"
	"angles" "0 216 0"
	"model" "models/props_vehicles/utility_truck_windows.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-767 1422 -283.75"
	"angles" "0 89 0"
	"model" "models/props_equipment/scaffolding.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-378 110 -283.75"
	"angles" "0 89 0"
	"model" "models/props_equipment/scaffolding.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-605.12 1236.5 -1276.45"
	"angles" "0 153.5 0"
	"model" "models/props_street/police_barricade2.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-556.75 1325.88 -1276.45"
	"angles" "0 161.5 0"
	"model" "models/props_street/police_barricade.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-537.68 1373.1 -1276.45"
	"angles" "0 155.5 0"
	"model" "models/props_street/police_barricade.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "407 783 -1275"
	"angles" "0 105 0"
	"model" "models/props_street/police_barricade2.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "506 806 -1275"
	"angles" "0 113 0"
	"model" "models/props_street/police_barricade.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "554 823 -1275"
	"angles" "0 107 0"
	"model" "models/props_street/police_barricade.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "171 729 -1275.7"
	"angles" "0 105 0"
	"model" "models/props_street/police_barricade2.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "270 752 -1275.7"
	"angles" "0 113 0"
	"model" "models/props_street/police_barricade.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "318 769 -1275.7"
	"angles" "0 107 0"
	"model" "models/props_street/police_barricade.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-21 593 -1275.98"
	"angles" "0 131 0"
	"model" "models/props_street/police_barricade2.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "57.91 657.08 -1275.98"
	"angles" "0 139 0"
	"model" "models/props_street/police_barricade.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "93.6 693.4 -1275.98"
	"angles" "0 133 0"
	"model" "models/props_street/police_barricade.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-546.46 -348.95 -1278.4"
	"angles" "0 172.5 0"
	"model" "models/props_street/police_barricade2.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-529.83 -248.67 -1278.4"
	"angles" "0 180.5 0"
	"model" "models/props_street/police_barricade.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-527.16 -197.82 -1278.4"
	"angles" "0 174.5 0"
	"model" "models/props_street/police_barricade.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-430.34 -31.66 -1279.81"
	"angles" "0 135 0"
	"model" "models/props_street/police_barricade2.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-356.11 37.78 -1279.81"
	"angles" "0 143 0"
	"model" "models/props_street/police_barricade.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-323.03 76.48 -1279.81"
	"angles" "0 137 0"
	"model" "models/props_street/police_barricade.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-248 60.99 -1279.43"
	"angles" "0 63.5 0"
	"model" "models/props_street/police_barricade2.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-158.59 12.63 -1279.43"
	"angles" "0 71.5 0"
	"model" "models/props_street/police_barricade.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-111.4 -6.46 -1279.43"
	"angles" "0 65.5 0"
	"model" "models/props_street/police_barricade.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "51.48 -327.94 -952.36"
	"angles" "0 185.5 0"
	"model" "models/props_street/police_barricade2.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "45.1 -226.49 -952.36"
	"angles" "0 193.5 0"
	"model" "models/props_street/police_barricade.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "36.29 -176.36 -952.36"
	"angles" "0 187.5 0"
	"model" "models/props_street/police_barricade.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-52 383 -953"
	"angles" "0 84 0"
	"model" "models/props_street/police_barricade.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-541.48 373.92 -953.45"
	"angles" "0 86 0"
	"model" "models/props_street/police_barricade2.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-440.37 363.48 -953.45"
	"angles" "0 94 0"
	"model" "models/props_street/police_barricade.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-389.47 363.89 -953.45"
	"angles" "0 88 0"
	"model" "models/props_street/police_barricade.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-718.36 489.27 -953.01"
	"angles" "0 145.5 0"
	"model" "models/props_street/police_barricade2.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-658.04 571.08 -953.01"
	"angles" "0 153.5 0"
	"model" "models/props_street/police_barricade.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-632.56 615.15 -953.01"
	"angles" "0 147.5 0"
	"model" "models/props_street/police_barricade.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-90.83 153.37 -631.01"
	"angles" "0 81.5 0"
	"model" "models/props_street/police_barricade2.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "9.14 135.01 -631.01"
	"angles" "0 89.5 0"
	"model" "models/props_street/police_barricade.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "59.93 131.44 -631.01"
	"angles" "0 83.5 0"
	"model" "models/props_street/police_barricade.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-329.73 115.1 -633.16"
	"angles" "0 106 0"
	"model" "models/props_street/police_barricade2.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-231.15 139.85 -633.16"
	"angles" "0 114 0"
	"model" "models/props_street/police_barricade.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-183.45 157.66 -633.16"
	"angles" "0 108 0"
	"model" "models/props_street/police_barricade.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-544.98 88.34 -631.13"
	"angles" "0 92.5 0"
	"model" "models/props_street/police_barricade2.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-443.35 89.39 -631.13"
	"angles" "0 100.5 0"
	"model" "models/props_street/police_barricade.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-392.81 95.57 -631.13"
	"angles" "0 94.5 0"
	"model" "models/props_street/police_barricade.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "248.01 923 -631.01"
	"angles" "0 92 0"
	"model" "models/props_street/police_barricade2.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "349.65 923.16 -631.01"
	"angles" "0 100 0"
	"model" "models/props_street/police_barricade.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "400.23 928.9 -631.01"
	"angles" "0 94 0"
	"model" "models/props_street/police_barricade.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-83.5 1872.99 -631.23"
	"angles" "0 180.5 0"
	"model" "models/props_street/police_barricade2.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-81 1974.6 -631.23"
	"angles" "0 188.5 0"
	"model" "models/props_street/police_barricade.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-85.42 2025.31 -631.23"
	"angles" "0 182.5 0"
	"model" "models/props_street/police_barricade.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
; --- Fix hittable cars using the same name that move when the tank hits a different car
modify:
{
	match:
	{
		;"origin" "-972.675 -214.187 -631.488"
		"hammerid" "887583"
	}
	replace:
	{
		"targetname" "car_white16_a"
	}
}
{
	match:
	{
		"hammerid" "887587"
	}
	replace:
	{
		"parentname" "car_white16_a"
	}
}
; more problem cars in l4d1
{
	match:
	{
		;"origin" "-114.665 -104.114 -631.488"
		"hammerid" "875059"
	}
	replace:
	{
		"targetname" "car_white16_b"
	}
}
{
	match:
	{
		"hammerid" "875063"
	}
	replace:
	{
		"parentname" "car_white16_b"
	}
}


; ###########  ADDITIONAL PROPS AND SPAWNS  ###########
; =====================================================
; ==                      PROPS                      ==
; ==       New props for balance and SI spawns       ==
; =====================================================
add:
; --- AC unit on the office roof by the finale start
{
	"classname" "prop_dynamic"
	"origin" "-338 427 -1152"
	"angles" "0 180 0"
	"model" "models/props/de_train/acunit1.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; --- Van by the finale start
{
	"classname" "prop_dynamic"
	"origin" "265 350 -1280"
	"angles" "0 315 0"
	"model" "models/props_vehicles/van.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "265 350 -1280"
	"angles" "0 315 0"
	"model" "models/props_vehicles/van_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "logic_auto"
	"OnMapSpawn" "losfix_startvan_a,AddOutput,mins -1 -47 -12,0,-1"
	"OnMapSpawn" "losfix_startvan_a,AddOutput,maxs 1 47 12,0,-1"
	"OnMapSpawn" "losfix_startvan_a,AddOutput,solid 2,0,-1"
	"OnMapSpawn" "losfix_startvan_b,AddOutput,mins -49 -1 -12,0,-1"
	"OnMapSpawn" "losfix_startvan_b,AddOutput,maxs 49 1 12,0,-1"
	"OnMapSpawn" "losfix_startvan_b,AddOutput,solid 2,0,-1"
}
{
	"classname" "func_brush"
	"origin" "289 373 -1269"
	"targetname" "losfix_startvan_a"
}
{
	"classname" "func_brush"
	"origin" "241 325 -1269"
	"targetname" "losfix_startvan_b"
}
; --- Truck by the finale start
{
	"classname" "prop_dynamic"
	"origin" "141 -149 -1281"
	"angles" "0 315 0"
	"model" "models/props/de_nuke/truck_nuke.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "141 -149 -1281"
	"angles" "0 315 0"
	"model" "models/props/de_nuke/truck_nuke_glass.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "env_player_blocker"
	"origin" "52 -238 -1126"
	;"angles" "0 315 0"
	"mins" "-43 -43 -154"
	"maxs" "43 43 154"
	;"boxmins" "-43 -43 -154"
	;"boxmaxs" "43 43 154"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_player_blocker"
	"origin" "165 -125 -1049"
	;"angles" "0 315 0"
	"mins" "-57 -115 -77"
	"maxs" "57 115 77"
	;"boxmins" "-57 -115 -77"
	;"boxmaxs" "57 115 77"
	"initialstate" "1"
	"BlockType" "1"
}
; server crashes in l4d1 both windows/linux, don't know why :(
;{
;	"classname" "logic_auto"
;	"OnMapSpawn" "losfix_starttruck_a,AddOutput,mins -1 -69 -19,0,-1"
;	"OnMapSpawn" "losfix_starttruck_a,AddOutput,maxs 1 69 19,0,-1"
;	"OnMapSpawn" "losfix_starttruck_a,AddOutput,solid 2,0,-1"
;	"OnMapSpawn" "losfix_starttruck_b,AddOutput,mins -69 -1 -19,0,-1"
;	"OnMapSpawn" "losfix_starttruck_b,AddOutput,maxs 69 1 19,0,-1"
;	"OnMapSpawn" "losfix_starttruck_b,AddOutput,solid 2,0,-1"
;	"OnMapSpawn" "losfix_starttruck_c,AddOutput,mins -1 -53 -19,0,-1"
;	"OnMapSpawn" "losfix_starttruck_c,AddOutput,maxs 1 53 19,0,-1"
;	"OnMapSpawn" "losfix_starttruck_c,AddOutput,solid 2,0,-1"
;}
;{
;	"classname" "func_brush"
;	"origin" "193 -96 -1262"
;	"targetname" "losfix_starttruck_a"
;}
;{
;	"classname" "func_brush"
;	"origin" "125 -166 -1262"
;	"targetname" "losfix_starttruck_b"
;}
;{
;	"classname" "func_brush"
;	"origin" "61 -220 -1262"
;	"targetname" "losfix_starttruck_c"
;}
; =====================================================
; ==             LADDER / ELEVATOR NERF              ==
; ==   Nerf ladder & elevator attacks for infected   ==
; =====================================================


; ############  MAP SOUND AND GFX CHANGES  ############
; =====================================================
; ==                  SOUND REMOVAL                  ==
; ==    Remove or adjust sounds played by the map    ==
; =====================================================
filter:
; --- Remove CJ / radio voice lines and other voice lines / triggered sound effects
{
	"targetname" "cj_safehouse"
}
{
	"targetname" "random_tv"
}
{
	;"targetname" "tv_button"
	"hammerid" "1474968"
}
{
	"targetname" "news1"
}
{
	"targetname" "news2"
}
{
	"targetname" "ad_reko"
}
{
	"targetname" "cj_calling_loop"
}
{
	"targetname" "cj_calling_trigger"
}
; no this entity in l4d1
;{
;	"hammerid" "1660444"
;}
;{
;	"hammerid" "1660450"
;}
{
	"targetname" "cj_random_1"
}
{
	"targetname" "cj_random_2"
}
{
	"targetname" "cj_random_3"
}
; keep escape music in l4d1
;{
;	"targetname" "cj_highway_to_hell"
;}
{
	"hammerid" "1294610"
}
{
	"hammerid" "1294622"
}
{
	"hammerid" "1165825"
}
{
	"hammerid" "1165871"
}
{
	"hammerid" "1430668"
}
{
	"hammerid" "1430671"
}
{
	"hammerid" "1430674"
}
{
	"hammerid" "1430680"
}
{
	"hammerid" "1430683"
}
{
	"hammerid" "1430686"
}
; --- Remove miscellaneous sound effects from the map
{
	"targetname" "static_sound1"
}
{
	"targetname" "don_fountain"
}
{
	"message" "ambient/fire/fire_small_loop2.wav"
}
; --- Remove music
; no this entity in l4d1
;{
;	"classname" "ambient_music"
;}

; =====================================================
; ==             GFX / PARTICLES REMOVAL             ==
; ==        Remove visual effects from the map       ==
; =====================================================


; ###############  TRIGGERS AND BRUSHES  ##############
; =====================================================
; ==                   CLIP REMOVAL                  ==
; ==      Remove miscellaneous clips and brushes     ==
; =====================================================

; =====================================================
; ==              TRIGGER REMOVAL / FIX              ==
; ==    Fix triggers that interfere with gameplay    ==
; =====================================================


; #############  LADDER CHANGES AND FIXES  ############
; =====================================================
; ==             LADDER ADDITIONS / FIXES            ==
; ==              Add or change ladders              ==
; =====================================================
add:
; --- Infected ladder to climb on office before the finale start
{
    "classname" "func_simpleladder"
    "origin" "-2.96 261.23 -2.84"
    "angles" "0.00 0.00 0.00"
    "model" "*128"        
    "normal.x" "1.00"
    "normal.y" "0.00"
    "normal.z" "0.00"
    "team" "2"
}


; #######  MISCELLANEOUS / MAP SPECIFIC CHANGES  ######
; =====================================================
; ==                   BLANK HEADER                  ==
; ==                Blank description                ==
; =====================================================

; Harry Modify 2023
add:
; barricades
{
	"solid" "6"
	"origin" "85 332 -956"
	"angles" "0 -2 0"
	"model"	 "models/props_street/police_barricade.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "-494 1463 -1277"
	"angles" "0 -24 0"
	"model"	 "models/props_street/police_barricade2.mdl"
	"classname"	"prop_dynamic"
}
{
	; block small room on final
	"solid" "6"
	"origin" "192 42 -285"
	"angles" "0 -1 0"
	"model"	 "models/props/cs_office/shelves_metal2.mdl"
	"classname"	"prop_dynamic"
}
; boxes in the truck
{
	"solid" "6"
	"origin" "212 -87 -1242"
	"angles" "0 48 0"
	"model"	 "models/props/cs_militia/boxes_frontroom.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "129 -153 -1242"
	"angles" "0 -136 0"
	"model"	 "models/props/cs_militia/boxes_garage_lower.mdl"
	"classname"	"prop_dynamic"
}
; ammo
{
	"solid" "6"
	"origin" "-864 2730 -560"
	"angles" "0 103 0"
	"model"	 "models/props/terror/ammo_stack.mdl"
	"count" "1"
	"classname" "weapon_ammo_spawn"
}
; blocker
{
	; block room on final
	"classname" "env_player_blocker"
	"origin" "-1604 1751 -150"
	"mins" "-60 0 -100"
	"maxs" "0 0 100"
	"initialstate" "1"
	"BlockType" "1"
}
{
	;prevent survivor jump up to roof exploit
	"classname" "env_player_blocker"
	"origin" "-419 693 -30"
	"mins" "-5000 -5000 0"
	"maxs" "5000 5000 100"
	"initialstate" "1"
	"BlockType" "1"
}
; invisible block on shelves in final 
{
	"classname" "env_player_blocker"
	"origin" "-214 154 -283"
	"mins" "-327 -88 0"
	"maxs" "0 0 298"
	"initialstate" "1"
	"BlockType" "1"
}
; dumpster block on shelves in final 
{
	"solid" "6"
	"origin" "-766 1418 -185"
	"angles" "0 90 0"
	"model"	 "models/props_junk/dumpster_2.mdl"
	"classname"	"prop_dynamic"
}
; objects in final
{
	"solid" "6"
	"origin" "-1300 96 -288"
	"angles" "0 -159 0"
	"model"	 "models/props/cs_militia/boxes_frontroom.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "142 1739 -288"
	"angles" "0 90 0"
	"model"	 "models/props_vehicles/pickup_truck_2004.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "-665 638 -249"
	"angles" "0 -3 0"
	"model"	 "models/props_crates/static_crate_40.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "189 484 -288"
	"angles" "0 0 0"
	"model"	 "models/props/de_prodigy/concretebags3.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "191 551 -288"
	"angles" "0 179 0"
	"model"	 "models/props/de_prodigy/concretebags2.mdl"
	"classname"	"prop_dynamic"
}

; invisible wall block around final area
{
	"classname" "env_player_blocker"
	"origin" "868 -402 -227"
	"mins" "-820 0 0"
	"maxs" "0 0 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "9 -348 -282"
	"mins" "-498 -100 0"
	"maxs" "0 0 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-500 -397 -275"
	"mins" "-380 0 0"
	"maxs" "0 0 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-880 -392 -130"
	"mins" "-255 0 0"
	"maxs" "0 0 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-1135 -397 -275"
	"mins" "-110 0 0"
	"maxs" "0 0 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-1837 1792 -275"
	"mins" "-500 0 0"
	"maxs" "0 0 5000"
	"initialstate" "1"
	"BlockType" "1"
}

; 斜邊空氣牆
{
	"classname" "env_player_blocker"
	"origin" "-2272 1792 -275"
	"mins" "0 -900 0"
	"maxs" "0 0 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-1231 -380 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-1252 -362 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-1273 -344 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-1294 -326 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-1315 -308 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-1336 -290 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-1357 -272 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-1378 -254 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-1399 -236 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-1420 -218 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-1441 -200 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-1462 -182 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-1483 -164 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-1504 -146 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-1525 -128 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-1546 -110 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-1567 -92 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-1588 -74 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-1609 -56 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-1630 -38 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-1651 -20 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-1672 -2 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-1693 16 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-1714 34 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-1735 52 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-1756 70 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-1777 88 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-1798 106 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-1819 124 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-1840 142 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-1861 160 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-1883 178 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-1904 196 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-1925 214 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-1946 232 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-1967 250 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-1988 268 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-2009 286 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-2031 304 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

{
	"classname" "env_player_blocker"
	"origin" "-2052 322 -275"
	"mins" "-5 -5 0"
	"maxs" "5 5 5000"
	"initialstate" "1"
	"BlockType" "1"
}

; prevent perma-stuck 
{
	"solid" "6"
	"origin" "623 -649 -304"
	"angles" "0 124 0"
	"model"	 "models/props/cs_militia/boxes_garage_lower.mdl"
	"classname"	"prop_dynamic"
}
; infected ladder
{
    "classname" "func_simpleladder"
    "origin" "-335.16 -1355.37 -4.51"
    "angles" "0.00 0.00 0.00"
    "model" "*136"        
    "normal.x" "1.00"
    "normal.y" "0.00"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "-826.96 -776.60 82.96"
    "angles" "0.00 0.00 0.00"
    "model" "*143"        
    "normal.x" "1.00"
    "normal.y" "0.00"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "-826.96 -60.66 82.76"
    "angles" "0.00 0.00 0.00"
    "model" "*143"        
    "normal.x" "1.00"
    "normal.y" "0.00"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "-1208.56 -824.81 -62.05"
    "angles" "0.00 270.00 0.00"
    "model" "*207"        
    "normal.x" "-1.00"
    "normal.y" "-0.00"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "1288.03 -924.20 44.15"
    "angles" "0.00 0.00 0.00"
    "model" "*143"        
    "normal.x" "1.00"
    "normal.y" "0.00"
    "normal.z" "0.00"
    "team" "2"
}

; prevent perma-stuck before final area near elevator
{
    "classname" "func_simpleladder"
    "origin" "49.81 371.02 -159.76"
    "angles" "0.00 0.00 0.00"
    "model" "*95"        
    "normal.x" "0.00"
    "normal.y" "1.00"
    "normal.z" "0.00"
    "team" "2"
}
{
    "classname" "func_simpleladder"
    "origin" "49.81 371.03 -483.89"
    "angles" "0.00 0.00 0.00"
    "model" "*95"        
    "normal.x" "0.00"
    "normal.y" "1.00"
    "normal.z" "0.00"
    "team" "2"
}
{
    "classname" "func_simpleladder"
    "origin" "49.81 371.03 -808.02"
    "angles" "0.00 0.00 0.00"
    "model" "*95"        
    "normal.x" "0.00"
    "normal.y" "1.00"
    "normal.z" "0.00"
    "team" "2"
}
{
    "classname" "func_simpleladder"
    "origin" "49.81 371.03 -1132.15"
    "angles" "0.00 0.00 0.00"
    "model" "*95"        
    "normal.x" "0.00"
    "normal.y" "1.00"
    "normal.z" "0.00"
    "team" "2"
}
; infected ladder around final area
{
    "classname" "func_simpleladder"
    "origin" "1851.71 2259.06 0.03"
    "angles" "0.00 180.00 0.00"
    "model" "*93"        
    "normal.x" "-1.00"
    "normal.y" "-0.00"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "1848.74 1521.58 -1.96"
    "angles" "0.00 180.00 0.00"
    "model" "*94"        
    "normal.x" "-1.00"
    "normal.y" "-0.00"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "-2916.63 -370.03 -1.55"
    "angles" "0.00 180.00 0.00"
    "model" "*105"        
    "normal.x" "0.65"
    "normal.y" "0.75"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "-3766.76 375.48 0.00"
    "angles" "0.00 180.00 0.00"
    "model" "*104"        
    "normal.x" "0.65"
    "normal.y" "0.75"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "-245.96 1017.03 -349.25"
    "angles" "0.00 0.00 0.00"
    "model" "*112"        
    "normal.x" "1.00"
    "normal.y" "0.00"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "-4428.87 3618.04 0.03"
    "angles" "0.00 180.00 0.00"
    "model" "*108"        
    "normal.x" "0.00"
    "normal.y" "-1.00"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "-4103.94 3619.26 -0.96"
    "angles" "0.00 180.00 0.00"
    "model" "*106"        
    "normal.x" "0.00"
    "normal.y" "-1.00"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "-1869.87 -232.88 -6.64"
    "angles" "0.00 20.00 0.00"
    "model" "*96"        
    "normal.x" "-0.34"
    "normal.y" "0.93"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "-3853.66 3618.92 -1.96"
    "angles" "0.00 180.00 0.00"
    "model" "*107"        
    "normal.x" "0.00"
    "normal.y" "-1.00"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "1315.92 -2223.96 -2.05"
    "angles" "0.00 0.00 0.00"
    "model" "*106"        
    "normal.x" "0.00"
    "normal.y" "1.00"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "-471.00 -97.46 67.71"
    "angles" "0.00 0.00 0.00"
    "model" "*121"        
    "normal.x" "-0.03"
    "normal.y" "0.99"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "-2637.64 168.02 -10.96"
    "angles" "0.00 270.00 0.00"
    "model" "*108"        
    "normal.x" "1.00"
    "normal.y" "0.00"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "2835.44 343.47 -229.73"
    "angles" "0.00 0.00 0.00"
    "model" "*112"        
    "normal.x" "1.00"
    "normal.y" "0.00"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "-224.47 713.39 343.53"
    "angles" "0.00 90.00 0.00"
    "model" "*51"        
    "normal.x" "-0.99"
    "normal.y" "0.02"
    "normal.z" "0.00"
    "team" "2"
}

; --- Fix a hard to use ladder
modify:
{
	match:
	{
		;"model" "*94"
		"hammerid" "1057311"
	}
	insert:
	{
		"origin" "2.00 75.00 0.00"
	}
}
; damage 10000 outside the building in final
{
	match:
	{
		;"origin" "2402.5 1305.5 -709.5"
		"classname" "trigger_hurt"
		"hammerid" "1270390"
	}
	replace:
	{
		"damage" "10000"
		"origin" "2422.5 1305.5 -856.5"
	}
}
; --- Fix infected ghosts falling through plank walkway on elevator top
{
	match:
	{
		"targetname" "elevator_break_wood"
	}
	replace:
	{
		"classname" "func_brush"
		"Solidity" "2"
		"spawnflags" "2"
	}
}
{
	match:
	{
		"hammerid" "1453381"
	}
	delete:
	{
		"OnEntireTeamStartTouch" "elevator_break_wood,Break,,0,-1"
	}
	insert:
	{
		"OnEntireTeamStartTouch" "elevator_break_wood,kill,,0,-1"
	}
}
filter:
;remove unbreakable door
;{
;	;"origin" "-1124 2004.15 -580.271"
;	"hammerid" "1153371"
;}
;{
;	;"origin" "-1732 636 -904.004"
;	"hammerid" "1095924"
;}
{
	;"origin" "208 16 -232.004"
	"hammerid" "1497086"
}
;remove Infected breakable door for more open area
{
	; vent in final 
	;"origin" "-840 -421 -76"
	"hammerid" "1057267"
}
{
	;"origin" "-1880 -268 -1228"
	"hammerid" "758321"
}
{
	;"origin" "595 -328 -1228"
	"hammerid" "705601"
}
;remove message Sprite
{
	"targetname" "tv_message"
}

modify:
; final medicalcabinet still 4 pills
{
	match:
	{
		"hammerid" "1282865"
		"model" "models/props_interiors/medicalcabinet02.mdl"
	}
	replace:
	{
		"HealthCount" "4"
	}
}
; replace extra kits with pills
;{
;	match:
;	{
;		;"origin" "178.816 1105.43 -595.737"
;		"hammerid" "875661"
;	}
;	replace:
;	{
;		"classname" "weapon_pain_pills_spawn"
;		"spawnflags" "0"
;	}	
;}
{
	match:
	{
		;"origin" "185.029 1097.51 -595.33"
		"hammerid" "875663"
	}
	replace:
	{
		"classname" "weapon_pain_pills_spawn"
		"spawnflags" "0"
	}	
}

filter:
; Remove second atm (since it can trigger alarm horde again)
{
	;"origin" "-291 2208.54 -1276"
	"classname" "prop_car_alarm"
	"hammerid" "692652"
}
; remove auto_alarm_b1 ShowSprite
{
	;"-299.837 2199.6 -1226.19"
	"targetname" "auto_alarm_b1"
	"hammerid" "692656"
}

add:
; add auto_alarm_s1 sound
{
	"origin" "-346.631 2210 -1276"
	"volstart" "0"
	"targetname" "auto_alarm_s1"
	"spinup" "0"
	"spindown" "0"
	"spawnflags" "16"
	"radius" "1750"
	"preset" "0"
	"pitchstart" "100"
	"pitch" "100"
	"message" "Car.Alarm"
	"lfotype" "0"
	"lforate" "0"
	"lfomodvol" "0"
	"lfomodpitch" "0"
	"health" "10"
	"fadeoutsecs" "0"
	"fadeinsecs" "0"
	"cspinup" "0"
	"classname" "ambient_generic"
}

; clip
{
	"BlockType" "0"
	"initialstate" "1"
	"mins" "0 -154 0"
	"maxs" "60 0 100"
	"origin" "-2188 -276 -1150"
    "classname" "env_player_blocker"
}

{
	"BlockType" "0"
	"initialstate" "1"
	"mins" "0 -154 0"
	"maxs" "60 0 100"
	"origin" "-2022 -276 -1150"
    "classname" "env_player_blocker"
}

filter:
; --- Remove item spawns in bad locations or excessive density in a location
; by harry
{
	;"origin"     "178 1105 -596"
	"classname"   "weapon_first_aid_kit_spawn"
	"hammerid"    "875661"
}

add:
; pills
{
	"solid" "6"
	"classname"	"weapon_pain_pills_spawn"
	"origin" "-522 524 -1239"
	"angles" "0 95 0"
	"spawnflags"	"2"
	"disableshadows"	"1"
}

{
	"solid" "6"
	"classname"	"weapon_pain_pills_spawn"
	"origin" "171 1584 -246"
	"angles" "0 346 0"
	"spawnflags"	"2"
	"disableshadows"	"1"
}

{
	"solid" "6"
	"classname"	"weapon_pain_pills_spawn"
	"origin" "-897 2737 -559"
	"angles" "0 295 0"
	"spawnflags"	"2"
	"disableshadows"	"1"
}

{
	"solid" "6"
	"classname"	"weapon_pain_pills_spawn"
	"origin" "-1246 81 -255"
	"angles" "0 133 -1"
	"spawnflags"	"2"
	"disableshadows"	"1"
}

{
	"solid" "6"
	"classname"	"weapon_pain_pills_spawn"
	"origin" "200 613 -287"
	"angles" "0 342 0"
	"spawnflags"	"2"
	"disableshadows"	"1"
}
