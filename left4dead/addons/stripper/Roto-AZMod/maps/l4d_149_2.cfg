; Harry Modify 2023
add:
; block alarm announcement
{
	"solid" "0"
	"origin" "544 -878 -1342"
	"angles" "0 360 0"
	"model"	 "models/props_interiors/corkboardverticle01.mdl"
	"classname"	"prop_dynamic"
}

; ammo
{
	"solid" "6"
	"origin" "4095 -1913 -1328"
	"angles" "0 -176 0"
	"model"	 "models/props/terror/ammo_stack.mdl"
	"classname" "weapon_ammo_spawn"
	"disableshadows" "1"
	"spawnflags" "2"
	"count" "1"
}

{
	"solid" "6"
	"origin" "6053 4934 -1328"
	"angles" "0 -12 0"
	"model"	 "models/props/de_prodigy/ammo_can_02.mdl"
	"classname" "weapon_ammo_spawn"
	"disableshadows" "1"
	"spawnflags" "2"
	"count" "1"
}

; weapons
{
	"solid" "6"
	"origin" "4130 -1903 -1326"
	"angles" "0 -180 270"
	"classname" "weapon_smg_spawn"
	"disableshadows" "1"
	"spawnflags" "2"
	"count" "5"
}

{
	"solid" "6"
	"origin" "4165 -1972 -1326"
	"angles" "0 -118 90"
	"model"	 "models/w_models/Weapons/w_shotgun.mdl"
	"classname" "weapon_pumpshotgun_spawn"
	"disableshadows" "1"
	"spawnflags" "2"
	"count" "5"
}

; block toilet room in the end of map
{
	"solid" "6"
	"origin" "6070 4138 -1259"
	"angles" "18 179 0"
	"model"	 "models/props_interiors/handrail_hospital01_64.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "6077 4026 -1328"
	"angles" "0 -92 0"
	"model"	 "models/infected/witch.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "6064 4070 -1328"
	"angles" "0 -92 0"
	"model"	 "models/deadbodies/dead_male_civilian_02.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "6053 3987 -1328"
	"angles" "0 92 0"
	"model"	 "models/deadbodies/dead_male_civilian_body.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "6075 4137 -1298"
	"angles" "-36 179 0"
	"model"	 "models/props_interiors/handrail_hospital01_256.mdl"
	"classname"	"prop_dynamic"
}

; hittable
{
	"solid" "6"
	"origin" "343 -2282 -1503"
	"angles" "0 -1 0"
	"model"	 "models/props_vehicles/airport_baggage_cart2.mdl"
	"classname"	"prop_physics"
}

; object
{
	"solid" "6"
	"origin" "1113 -1969 -1376"
	"angles" "90 -90 0"
	"model"	 "models/props_vehicles/airport_baggage_cart2.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "1026 -2039 -1316"
	"angles" "180 1 0"
	"model"	 "models/props_vehicles/airport_baggage_cart2.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "6292 3660 -1384"
	"angles" "0 90 0"
	"model"	 "models/props_wasteland/rockcliff07b.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "5494 2274 -1343"
	"angles" "0 -8 0"
	"model"	 "models/props/cs_militia/boxes_frontroom.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "4186 -426 -1339"
	"angles" "0 91 0"
	"model"	 "models/props/cs_militia/boxes_frontroom.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "4081 38 -1340"
	"angles" "-13 5 0"
	"model"	 "models/props_wasteland/rock_moss01.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "4112 625 -1382"
	"angles" "0 179 0"
	"model"	 "models/props_wasteland/rockcliff07b.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "6444 3784 -1335"
	"angles" "0 -87 0"
	"model"	 "models/props_fortifications/sandbags_line2.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "4100 2391 -1347"
	"angles" "0 87 0"
	"model"	 "models/props_industrial/wire_spool_01.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "4287 2374 -1347"
	"angles" "0 -89 0"
	"model"	 "models/props_industrial/wire_spool_02.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "4269 2712 -1338"
	"angles" "0 -89 0"
	"model"	 "models/props/de_nuke/crate_small.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "6740 5143 -1328"
	"angles" "0 174 0"
	"model"	 "models/props/cs_militia/crate_extralargemill.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "4093 2705 -1337"
	"angles" "0 -89 0"
	"model"	 "models/props/de_nuke/crate_small.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "3690 2322 -1334"
	"angles" "0 -2 0"
	"model"	 "models/props/cs_militia/boxes_frontroom.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "5844 2334 -1341"
	"angles" "0 -178 0"
	"model"	 "models/props/cs_militia/logpile2.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "4094 1455 -1334"
	"angles" "-1 -205 0"
	"model"	 "models/props/cs_militia/boxes_garage_lower.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "6545 2340 -1347"
	"angles" "0 178 0"
	"model"	 "models/props_crates/static_crate_40.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "6548 2324 -1308"
	"angles" "0 176 0"
	"model"	 "models/props_crates/static_crate_40.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "6544 2298 -1349"
	"angles" "0 178 0"
	"model"	 "models/props_crates/static_crate_40.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "4571 2311 -1334"
	"angles" "0 1 0"
	"model"	 "models/props/cs_assault/box_stack2.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "5305 2340 -1337"
	"angles" "0 149 0"
	"model"	 "models/props_fortifications/sandbags_corner2.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "6303 2418 -1347"
	"angles" "0 89 0"
	"model"	 "models/props_industrial/wire_spool_01.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "6477 2831 -1336"
	"angles" "0 -89 0"
	"model"	 "models/props/cs_militia/boxes_frontroom.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "6372 3188 -1377"
	"angles" "0 88 0"
	"model"	 "models/props_wasteland/rockcliff07b.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "6457 4432 -1323"
	"angles" "0 -3 0"
	"model"	 "models/props_exteriors/roadsidefence_512.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "6306 4876 -1322"
	"angles" "0 41 0"
	"model"	 "models/props_exteriors/roadsidefence_512.mdl"
	"classname"	"prop_dynamic"
}
{
	"solid" "6"
	"origin" "7683 4738 -1328"
	"angles" "0 90 0"
	"model"	 "models/props_exteriors/roadsidefence_512.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "7218 4701 -1328"
	"angles" "0 89 0"
	"model"	 "models/props_equipment/cargo_container01.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "7963 4545 -1328"
	"angles" "0 -179 0"
	"model"	 "models/props_exteriors/roadsidefence_512.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "6821 4708 -1329"
	"angles" "0 90 0"
	"model"	 "models/props_equipment/cargo_container01.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "7019 4645 -1200"
	"angles" "0 95 0"
	"model"	 "models/props_equipment/cargo_container01.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "8202 4782 -1328"
	"angles" "0 88 0"
	"model"	 "models/props_street/barricade_door_01.mdl"
	"classname"	"prop_dynamic"
}

{
	"solid" "6"
	"origin" "8328 4569 -1328"
	"angles" "0 -89 0"
	"model"	 "models/props/cs_militia/boxes_frontroom.mdl"
	"classname"	"prop_dynamic"
}

; pills
{
	"solid" "6"
	"classname"	"weapon_pain_pills_spawn"
	"origin" "4654 -1705 -1454"
	"angles" "0 259 0"
	"spawnflags"	"2"
	"disableshadows"	"1"
}
{
	"solid" "6"
	"classname"	"weapon_pain_pills_spawn"
	"origin" "3897.87 -389.25 -1294.96"
	"angles" "0.00 328.40 0.00"
	"spawnflags"	"2"
	"disableshadows"	"1"
}

; infected ladder
{
    "classname" "func_simpleladder"
    "origin" "-389.45 -110.47 -0.62"
    "angles" "0.00 0.00 0.00"
    "model" "*80"        
    "normal.x" "-1.00"
    "normal.y" "0.00"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "-196.53 -169.61 126.70"
    "angles" "0.00 0.00 0.00"
    "model" "*80"        
    "normal.x" "-1.00"
    "normal.y" "0.00"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "-502.22 -359.02 -25.74"
    "angles" "0.00 0.00 0.00"
    "model" "*88"        
    "normal.x" "0.00"
    "normal.y" "-1.00"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "187.13 -99.63 126.18"
    "angles" "0.00 0.00 0.00"
    "model" "*79"        
    "normal.x" "1.00"
    "normal.y" "0.00"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "-14.29 -211.06 -34.65"
    "angles" "0.00 0.00 0.00"
    "model" "*89"        
    "normal.x" "0.00"
    "normal.y" "-1.00"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "15893.44 9783.31 -31.00"
    "angles" "0.00 180.00 0.00"
    "model" "*88"        
    "normal.x" "-0.00"
    "normal.y" "1.00"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "15241.58 9759.61 -24.00"
    "angles" "0.00 180.00 0.00"
    "model" "*88"        
    "normal.x" "-0.00"
    "normal.y" "1.00"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "50.09 62.29 68.77"
    "angles" "0.00 0.00 0.00"
    "model" "*52"        
    "normal.x" "0.00"
    "normal.y" "-1.00"
    "normal.z" "0.00"
    "team" "2"
}

{
    "classname" "func_simpleladder"
    "origin" "6101.31 6624.03 200.98"
    "angles" "0.00 0.00 0.00"
    "model" "*51"        
    "normal.x" "0.00"
    "normal.y" "1.00"
    "normal.z" "0.00"
    "team" "2"
}

filter:
; --- Remove item spawns in bad locations or excessive density in a location
; by harry
{
	"hammerid" "1892"
}
{
	;"origin"     "6336 2882 -1332"
	"classname"   "weapon_first_aid_kit_spawn"
	"hammerid"    "1972"
}
{
	; end saferoom kits
	"hammerid" "1606"
}
{
	; end saferoom kits
	"hammerid" "1605"
}
{
	; end saferoom kits
	"hammerid" "1604"
}
{
	; end saferoom kits
	"hammerid" "1603"
}
{
	;"origin"     "959 -1247 -1336"
	"classname"   "weapon_pain_pills_spawn"
	"hammerid"    "1899"
}


; remove alarm sound
{
	"targetname" "emergency_door_relay"
}
; delete nav
{
	"targetname" "nav_block1"
}
; unbreakable door
;{
;	;"origin" "32 -1076 -1436"
;	"hammerid" "1811"
;}
;{
;	;"origin" "2672 -1204 -1404"
;	"hammerid" "2175"
;}
;{
;	;"origin" "6020 4148 -1276"
;	"hammerid" "1986"
;}
;{
;	;"origin" "3859 -480 -1276"
;	"hammerid" "1637"
;}
;{
;	;"origin" "3836 -580 -1276"
;	"hammerid" "1682"
;}
;{
;	;"origin" "3859 -464 -1276"
;	"hammerid" "1638"
;}
; remove infeced ladder
{
	;"model" "*53"
	"hammerid" "2045"
}

modify:
; remove alarm door near start saferoom
{
	match:
	{
		;"origin" "542 -786 -1350.94"
		"classname" "prop_door_rotating"
		"hammerid" "1520"
	}
	delete:
	{
		"OnOpen" "emergency_door_relay,Trigger,,0,1"
		"OnOpen" "emergency_door,SetBreakable,,0,1"
	}
	replace:
	{
		"spawnflags" "8192"
	}
}
; hittable
{
	match:
	{
		;"origin" "7731 4318 -1327"
		"model" "models/props/cs_assault/forklift.mdl"
		"hammerid" "1544"
		"classname" "prop_dynamic_override"
	}
	replace:
	{
		"classname" "prop_physics"
	}
}
; move ladder
{
	match:
	{
		;"model" "*54"
		"hammerid" "2047"
	}
	insert:
	{
		"origin" "0 -24 0"
	}
}
; First Gate Open Event
{
	match:
	{
		"targetname" "panic_door_relay2"
	}
	delete:
	{
		"OnTrigger" "doortunnel,Open,,0.5,-1"
		"OnTrigger" "nav_block3,UnblockNav,,0,-1"
	}
	insert:
	{
		; from 0s => 30s
		"OnTrigger" "doortunnel,Open,,30.5,-1"
		"OnTrigger" "nav_block3,UnblockNav,,30,-1"
	}
}